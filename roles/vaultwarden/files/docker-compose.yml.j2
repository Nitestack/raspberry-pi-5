services:
  vaultwarden:
    image: vaultwarden/server:latest
    container_name: vaultwarden
    restart: always
    ports:
      - "127.0.0.1:{{ VAULTWARDEN_PORT }}:80"
    volumes:
      - "{{ vaultwarden_dir }}/data:/data"
    environment:
      DOMAIN: "https://{{ VAULTWARDEN_DOMAIN }}"
      SIGNUPS_ALLOWED: "{{ VAULTWARDEN_SIGNUPS_ALLOWED }}"
      SMTP_HOST: "{{ VAULTWARDEN_SMTP_HOST }}"
      SMTP_PORT: "{{ VAULTWARDEN_SMTP_PORT }}"
      SMTP_SECURITY: "{{ VAULTWARDEN_SMTP_SECURITY }}"
      SMTP_FROM: "{{ NO_REPLY_MAIL }}"
      SMTP_USERNAME: "{{ NO_REPLY_MAIL }}"
      SMTP_PASSWORD: "{{ VAULTWARDEN_SMTP_PASSWORD }}"
