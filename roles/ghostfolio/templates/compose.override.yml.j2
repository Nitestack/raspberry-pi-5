# external-file
# owner: ghostfolio
# repo: ghostfolio
# path: docker/docker-compose.yml
# commit-hash: aca4c3d46dce1169bf7cbe8542521dfb9d12e796

services:
  ghostfolio:
    image: ghostfolio/ghostfolio:2.206.0@sha256:e3fe32e265e10b454a8786ec16e9e9b310263b732551e8fb55f4778f4e978904
    container_name: "{{ services.ghostfolio.container_name }}"
    restart: always
    networks:
      - default
      - caddy
    env_file: !override .env
    ports: !reset []

  postgres:
    image: postgres:18-alpine@sha256:70b32afe0c274b4d93098fd724fcdaab3aba47270a4f1e63cbf9cc69d7bf1be4
    restart: always
    env_file: !override .env
    volumes:
      - "{{ ghostfolio_data_dir }}/db:/var/lib/postgresql/data"

  redis:
    image: redis:8.2.2-alpine@sha256:1c78f5e7512cc8b22b0edc95c20e7abd9e1fd832e5dfd5c3c6b59ce82fb238d0
    restart: always
    env_file: !override .env

networks:
  caddy:
    external: true
