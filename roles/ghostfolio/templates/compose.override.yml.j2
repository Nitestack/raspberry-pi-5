# external-file
# owner: ghostfolio
# repo: ghostfolio
# path: docker/docker-compose.yml
# commit-hash: aca4c3d46dce1169bf7cbe8542521dfb9d12e796

services:
  ghostfolio:
    image: ghostfolio/ghostfolio:2.203.0@sha256:74e82ac31f933188cb69a38fdc0b56a29fbd7edba0cacd75797184d1eef853fc
    container_name: "{{ services.ghostfolio.container_name }}"
    restart: always
    networks:
      - default
      - caddy
    env_file: !override .env
    ports: !reset []

  postgres:
    image: postgres:15-alpine@sha256:5e50b90b3b7dd846bc66e5bdf7a9f408ee9a79c3fc4b2f60294f64c310a7df1e
    restart: always
    env_file: !override .env
    volumes:
      - "{{ ghostfolio_data_dir }}/db:/var/lib/postgresql/data"

  redis:
    image: redis:8.2.1-alpine@sha256:987c376c727652f99625c7d205a1cba3cb2c53b92b0b62aade2bd48ee1593232
    restart: always
    env_file: !override .env

networks:
  caddy:
    external: true
